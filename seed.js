// seed.js
const mongoose = require('mongoose');
const Package = require('./models/Package');
const Salon = require('./models/Salon');
require('dotenv').config();

// seeds.js
const packages = [
    { name: 'Basic', price: 99, tokens: 100, description: '·Éò·Éì·Éî·Éê·Éö·É£·É†·Éò·Éê ·Éì·Éê·Éõ·É¨·Éß·Éî·Éë·Éó·Éê·Éó·Éï·Éò·É°', features: ['100 ·É¢·Éù·Éô·Éî·Éú·Éò', '·Éß·Éï·Éî·Éö·Éê ·Éû·Éê·É†·É¢·Éú·Éò·Éù·É† ·É°·Éê·Éö·Éù·Éú·É®·Éò', '·É£·É§·Éê·É°·Éù ·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê'] },
    { name: 'Standard', price: 179, tokens: 200, description: '·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éû·Éù·Éû·É£·Éö·Éê·É†·É£·Éö·Éò', features: ['200 ·É¢·Éù·Éô·Éî·Éú·Éò', '·Éß·Éï·Éî·Éö·Éê ·Éû·Éê·É†·É¢·Éú·Éò·Éù·É† ·É°·Éê·Éö·Éù·Éú·É®·Éò', '·É£·É§·Éê·É°·Éù ·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê', '·Éû·É†·Éò·Éù·É†·Éò·É¢·Éî·É¢·É£·Éö·Éò ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê'], popular: true },
    { name: 'Premium', price: 299, tokens: 350, description: '·É®·Éî·É£·Éñ·É¶·É£·Éì·Éê·Éï·Éò ·É°·Éò·Éö·Éê·Éõ·Éê·Éñ·Éî', features: ['350 ·É¢·Éù·Éô·Éî·Éú·Éò', '·Éß·Éï·Éî·Éö·Éê ·Éû·Éê·É†·É¢·Éú·Éò·Éù·É† ·É°·Éê·Éö·Éù·Éú·É®·Éò', '·É£·É§·Éê·É°·Éù ·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê', '·Éû·É†·Éò·Éù·É†·Éò·É¢·Éî·É¢·É£·Éö·Éò ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê', 'VIP ·É°·Éî·É†·Éï·Éò·É°·Éî·Éë·Éò'] }
];

const salons = [
    { name: 'Elegance Beauty', services: ['·Éõ·Éê·Éú·Éò·Éô·É£·É†·Éò', '·Éû·Éî·Éì·Éò·Éô·É£·É†·Éò', '·Éó·Éõ·Éò·É° ·É®·Éî·É≠·É†·Éê'], address: '·Éï·Éê·Éô·Éî, ·É≠·Éê·Éï·É≠·Éê·Éï·Éê·É´·Éò·É° 12', rating: 4.8 },
    { name: 'Royal Spa', services: ['·Éô·Éù·É°·Éõ·Éî·É¢·Éù·Éö·Éù·Éí·Éò·Éê', '·Éõ·Éê·É°·Éê·Éü·Éò', '·É°·Éê·ÉÆ·Éò·É° ·Éõ·Éù·Éï·Éö·Éê'], address: '·É°·Éê·Éë·É£·É†·Éó·Éê·Éö·Éù, ·Éô·Éù·É°·É¢·Éê·Éï·Éê·É° 45', rating: 4.9 },
    { name: 'Glamour Studio', services: ['·Éó·Éõ·Éò·É° ·É®·Éî·É≠·É†·Éê', '·Éõ·Éê·Éú·Éò·Éô·É£·É†·Éò', '·Éõ·Éê·Éô·Éò·Éê·Éü·Éò'], address: '·Éò·É°·Éê·Éú·Éò, ·Éí·Éù·É†·Éí·Éê·É°·Éö·Éò·É° 23', rating: 4.7 },
    { name: 'Beauty Zone', services: ['·Éô·Éù·É°·Éõ·Éî·É¢·Éù·Éö·Éù·Éí·Éò·Éê', '·Éî·Éû·Éò·Éö·Éê·É™·Éò·Éê', '·É°·Éê·ÉÆ·Éò·É° ·Éõ·Éù·Éï·Éö·Éê'], address: '·Éï·Éê·Éô·Éî, ·Éê·Éë·Éê·É®·Éò·É´·Éò·É° 8', rating: 4.6 }
];

const seedDB = async () => {
    try {
        await mongoose.connect(process.env.MONGODB_URI);
        console.log('‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è...');

        await Package.deleteMany(); // –û—á–∏—â–∞–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º
        await Salon.deleteMany();  // –û—á–∏—â–∞–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–µ—Ä–µ–¥ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º

        await Package.insertMany(packages);
        console.log('‚úÖ –ü–∞–∫–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');
        
        await Salon.insertMany(salons);
        console.log('‚úÖ –°–∞–ª–æ–Ω—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!');

    } catch (err) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î:', err);
    } finally {
        mongoose.connection.close();
        console.log('üîå –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î –∑–∞–∫—Ä—ã—Ç–æ.');
    }
};

seedDB();